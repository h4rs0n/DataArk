import{K as pe,e as b,a3 as ye,l as m,a1 as Ot,L as Ze,_ as Z,d as O,c as Ee,o as F,a as X,n as Xe,b as ge,g as Q,i as Qe,W as we,$ as se,p as L,r as q,x as H,ay as Dt,w as P,z as $,y as St,M as ze,aK as J,G as Mt,aL as ae,H as Re,J as et,Y as Tt,aM as At,q as R,a5 as _e,aN as kt,a7 as tt,a4 as Pt,aO as $t,ad as xt,au as zt,a2 as Lt,aP as It,N as ce,aQ as jt,aR as Vt,f as g,ax as Nt,P as Wt,T as qt,S as Ht,V as Gt,a9 as Yt,Z as Le,O as Ie}from"./index-BDJWZuA5.js";const G={formatYear:"YYYY 年",formatMonth:"YYYY 年 MM 月",today:"今天",view:{month:"月",year:"年",week:"周",day:"日"},month:{long:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"},short:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"}},week:{long:{self:"周",monday:"周一",tuesday:"周二",wednesday:"周三",thursday:"周四",friday:"周五",saturday:"周六",sunday:"周日"},short:{self:"周",monday:"一",tuesday:"二",wednesday:"三",thursday:"四",friday:"五",saturday:"六",sunday:"日"}}},Jt={locale:"zh-CN",empty:{description:"暂无数据"},drawer:{okText:"确定",cancelText:"取消"},popconfirm:{okText:"确定",cancelText:"取消"},modal:{okText:"确定",cancelText:"取消"},pagination:{goto:"前往",page:"页",countPerPage:"条/页",total:"共 {0} 条"},table:{okText:"确定",resetText:"重置"},upload:{start:"开始",cancel:"取消",delete:"删除",retry:"点击重试",buttonText:"点击上传",preview:"预览",drag:"点击或拖拽文件到此处上传",dragHover:"释放文件并开始上传",error:"上传失败"},calendar:G,datePicker:{view:G.view,month:G.month,week:G.week,placeholder:{date:"请选择日期",week:"请选择周",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",time:"请选择时间"},rangePlaceholder:{date:["开始日期","结束日期"],week:["开始周","结束周"],month:["开始月份","结束月份"],year:["开始年份","结束年份"],quarter:["开始季度","结束季度"],time:["开始时间","结束时间"]},selectTime:"选择时间",today:"今天",now:"此刻",ok:"确定"},image:{loading:"加载中"},imagePreview:{fullScreen:"全屏",rotateRight:"向右旋转",rotateLeft:"向左旋转",zoomIn:"放大",zoomOut:"缩小",originalSize:"原始尺寸"},typography:{copied:"已复制",copy:"复制",expand:"展开",collapse:"折叠",edit:"编辑"},form:{validateMessages:{required:"#{field} 是必填项",type:{string:"#{field} 不是合法的文本类型",number:"#{field} 不是合法的数字类型",boolean:"#{field} 不是合法的布尔类型",array:"#{field} 不是合法的数组类型",object:"#{field} 不是合法的对象类型",url:"#{field} 不是合法的 url 地址",email:"#{field} 不是合法的邮箱地址",ip:"#{field} 不是合法的 IP 地址"},number:{min:"`#{value}` 小于最小值 `#{min}`",max:"`#{value}` 大于最大值 `#{max}`",equal:"`#{value}` 不等于 `#{equal}`",range:"`#{value}` 不在 `#{min} ~ #{max}` 范围内",positive:"`#{value}` 不是正数",negative:"`#{value}` 不是负数"},array:{length:"`#{field}` 个数不等于 #{length}",minLength:"`#{field}` 个数最少为 #{minLength}",maxLength:"`#{field}` 个数最多为 #{maxLength}",includes:"#{field} 不包含 #{includes}",deepEqual:"#{field} 不等于 #{deepEqual}",empty:"`#{field}` 不是空数组"},string:{minLength:"字符数最少为 #{minLength}",maxLength:"字符数最多为 #{maxLength}",length:"字符数必须是 #{length}",match:"`#{value}` 不符合模式 #{pattern}",uppercase:"`#{value}` 必须全大写",lowercase:"`#{value}` 必须全小写"},object:{deepEqual:"`#{field}` 不等于期望值",hasKeys:"`#{field}` 不包含必须字段",empty:"`#{field}` 不是对象"},boolean:{true:"期望是 `true`",false:"期望是 `false`"}}}},Kt=m("zh-CN"),Ut=ye({"zh-CN":Jt}),io=()=>{const e=pe(Ze,void 0),t=b(()=>{var r;return(r=e==null?void 0:e.locale)!=null?r:Ut[Kt.value]}),n=b(()=>t.value.locale);return{i18nMessage:t,locale:n,t:(r,...l)=>{const u=r.split(".");let a=t.value;for(const s of u){if(!a[s])return r;a=a[s]}return Ot(a)&&l.length>0?a.replace(/{(\d+)}/g,(s,f)=>{var d;return(d=l[f])!=null?d:s}):a}}};var nt=function(){if(typeof Map<"u")return Map;function e(t,n){var o=-1;return t.some(function(r,l){return r[0]===n?(o=l,!0):!1}),o}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var o=e(this.__entries__,n),r=this.__entries__[o];return r&&r[1]},t.prototype.set=function(n,o){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=o:this.__entries__.push([n,o])},t.prototype.delete=function(n){var o=this.__entries__,r=e(o,n);~r&&o.splice(r,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var r=0,l=this.__entries__;r<l.length;r++){var u=l[r];n.call(o,u[1],u[0])}},t}()}(),be=typeof window<"u"&&typeof document<"u"&&window.document===document,K=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Zt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(K):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Xt=2;function Qt(e,t){var n=!1,o=!1,r=0;function l(){n&&(n=!1,e()),o&&a()}function u(){Zt(l)}function a(){var s=Date.now();if(n){if(s-r<Xt)return;o=!0}else n=!0,o=!1,setTimeout(u,t);r=s}return a}var Rt=20,en=["top","right","bottom","left","width","height","size","weight"],tn=typeof MutationObserver<"u",nn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Qt(this.refresh.bind(this),Rt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,o=n.indexOf(t);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!be||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),tn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!be||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,o=n===void 0?"":n,r=en.some(function(l){return!!~o.indexOf(l)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ot=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},T=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||K},rt=ee(0,0,0,0);function U(e){return parseFloat(e)||0}function je(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(o,r){var l=e["border-"+r+"-width"];return o+U(l)},0)}function on(e){for(var t=["top","right","bottom","left"],n={},o=0,r=t;o<r.length;o++){var l=r[o],u=e["padding-"+l];n[l]=U(u)}return n}function rn(e){var t=e.getBBox();return ee(0,0,t.width,t.height)}function un(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return rt;var o=T(e).getComputedStyle(e),r=on(o),l=r.left+r.right,u=r.top+r.bottom,a=U(o.width),s=U(o.height);if(o.boxSizing==="border-box"&&(Math.round(a+l)!==t&&(a-=je(o,"left","right")+l),Math.round(s+u)!==n&&(s-=je(o,"top","bottom")+u)),!sn(e)){var f=Math.round(a+l)-t,d=Math.round(s+u)-n;Math.abs(f)!==1&&(a-=f),Math.abs(d)!==1&&(s-=d)}return ee(r.left,r.top,a,s)}var ln=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof T(e).SVGGraphicsElement}:function(e){return e instanceof T(e).SVGElement&&typeof e.getBBox=="function"}}();function sn(e){return e===T(e).document.documentElement}function an(e){return be?ln(e)?rn(e):un(e):rt}function cn(e){var t=e.x,n=e.y,o=e.width,r=e.height,l=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(l.prototype);return ot(u,{x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:r+n,left:t}),u}function ee(e,t,n,o){return{x:e,y:t,width:n,height:o}}var fn=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ee(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=an(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),dn=function(){function e(t,n){var o=cn(n);ot(this,{target:t,contentRect:o})}return e}(),hn=function(){function e(t,n,o){if(this.activeObservations_=[],this.observations_=new nt,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=o}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof T(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new fn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof T(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new dn(o.target,o.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ut=typeof WeakMap<"u"?new WeakMap:new nt,it=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=nn.getInstance(),o=new hn(t,n,this);ut.set(this,o)}return e}();["observe","unobserve","disconnect"].forEach(function(e){it.prototype[e]=function(){var t;return(t=ut.get(this))[e].apply(t,arguments)}});var lt=function(){return typeof K.ResizeObserver<"u"?K.ResizeObserver:it}();const st=typeof window>"u"?global:window,vn=st.requestAnimationFrame,Ve=st.cancelAnimationFrame;function Ne(e){let t=0;const n=(...o)=>{t&&Ve(t),t=vn(()=>{e(...o),t=0})};return n.cancel=()=>{Ve(t),t=0},n}const mn=O({name:"IconEye",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Q("icon"),o=b(()=>[n,`${n}-eye`,{[`${n}-spin`]:e.spin}]),r=b(()=>{const u={};return e.size&&(u.fontSize=Qe(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:o,innerStyle:r,onClick:u=>{t("click",u)}}}}),pn=["stroke-width","stroke-linecap","stroke-linejoin"],bn=X("path",{"clip-rule":"evenodd",d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z"},null,-1),yn=X("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},null,-1),En=[bn,yn];function gn(e,t,n,o,r,l){return F(),Ee("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ge(e.cls),style:Xe(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},En,14,pn)}var fe=Z(mn,[["render",gn]]);const wn=Object.assign(fe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+fe.name,fe)}}),_n=O({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Q("icon"),o=b(()=>[n,`${n}-eye-invisible`,{[`${n}-spin`]:e.spin}]),r=b(()=>{const u={};return e.size&&(u.fontSize=Qe(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:o,innerStyle:r,onClick:u=>{t("click",u)}}}}),Cn=["stroke-width","stroke-linecap","stroke-linejoin"],Bn=X("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),Fn=X("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),On=[Bn,Fn];function Dn(e,t,n,o,r,l){return F(),Ee("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ge(e.cls),style:Xe(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},On,14,Cn)}var de=Z(_n,[["render",Dn]]);const Sn=Object.assign(de,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+de.name,de)}});function Mn(e){const t=m(e);return[t,o=>{t.value=o}]}function Tn(e,t){const{value:n}=we(t),[o,r]=Mn(se(n.value)?e:n.value);return L(n,u=>{se(u)&&r(void 0)}),[b(()=>se(n.value)?o.value:n.value),r,o]}const An=O({name:"InputPassword",components:{IconEye:wn,IconEyeInvisible:Sn,AIconHover:Mt,AInput:J},props:{visibility:{type:Boolean,default:void 0},defaultVisibility:{type:Boolean,default:!0},invisibleButton:{type:Boolean,default:!0}},emits:["visibility-change","update:visibility"],setup(e,{emit:t}){const{visibility:n,defaultVisibility:o}=we(e),r=m(),l=()=>{s(!u.value)},[u,a]=Tn(o.value,ye({value:n})),s=f=>{f!==u.value&&(t("visibility-change",f),t("update:visibility",f),a(f))};return{inputRef:r,mergedVisible:u,handleInvisible:l}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function kn(e,t,n,o,r,l){const u=q("icon-eye"),a=q("icon-eye-invisible"),s=q("a-icon-hover"),f=q("a-input");return F(),H(f,{ref:"inputRef",type:e.mergedVisible?"password":"text"},Dt({_:2},[e.$slots.prepend?{name:"prepend",fn:P(()=>[$(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:P(()=>[$(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:P(()=>[e.invisibleButton?(F(),H(s,{key:0,onClick:e.handleInvisible,onMousedown:t[0]||(t[0]=ze(()=>{},["prevent"])),onMouseup:t[1]||(t[1]=ze(()=>{},["prevent"]))},{default:P(()=>[e.mergedVisible?(F(),H(a,{key:1})):(F(),H(u,{key:0}))]),_:1},8,["onClick"])):St("v-if",!0),$(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:P(()=>[$(e.$slots,"append")])}:void 0]),1032,["type"])}var he=Z(An,[["render",kn]]);const Pn=O({name:"InputGroup",setup(){return{prefixCls:Q("input-group")}}});function $n(e,t,n,o,r,l){return F(),Ee("div",{class:ge(e.prefixCls)},[$(e.$slots,"default")],2)}var ve=Z(Pn,[["render",$n]]);const lo=Object.assign(J,{Search:ae,Password:he,Group:ve,install:(e,t)=>{Re(e,t);const n=et(t);e.component(n+J.name,J),e.component(n+ve.name,ve),e.component(n+ae.name,ae),e.component(n+he.name,he)}});var xn=Object.defineProperty,We=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,qe=(e,t,n)=>t in e?xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))zn.call(t,n)&&qe(e,n,t[n]);if(We)for(var n of We(t))Ln.call(t,n)&&qe(e,n,t[n]);return e};const In=()=>{const{height:e,width:t}=At();return{width:Math.min(t,window.innerWidth),height:Math.min(e,window.innerHeight)}},He=(e,t)=>{var n,o;const r=e.getBoundingClientRect();return{top:r.top,bottom:r.bottom,left:r.left,right:r.right,scrollTop:r.top-t.top,scrollBottom:r.bottom-t.top,scrollLeft:r.left-t.left,scrollRight:r.right-t.left,width:(n=e.offsetWidth)!=null?n:e.clientWidth,height:(o=e.offsetHeight)!=null?o:e.clientHeight}},jn=e=>{switch(e){case"top":case"tl":case"tr":return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right";default:return"top"}},Y=(e,t)=>{switch(t){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},Vn=(e,t,{containerRect:n,triggerRect:o,popupRect:r,offset:l,translate:u})=>{const a=jn(e),s=In(),f={top:n.top+t.top,bottom:s.height-(n.top+t.top+r.height),left:n.left+t.left,right:s.width-(n.left+t.left+r.width)};let d=e;if(a==="top"&&f.top<0)if(o.top>r.height)t.top=-n.top;else{const v=z("bottom",o,r,{offset:l,translate:u});s.height-(n.top+v.top+r.height)>0&&(d=Y(e,"bottom"),t.top=v.top)}if(a==="bottom"&&f.bottom<0)if(s.height-o.bottom>r.height)t.top=-n.top+(s.height-r.height);else{const v=z("top",o,r,{offset:l,translate:u});n.top+v.top>0&&(d=Y(e,"top"),t.top=v.top)}if(a==="left"&&f.left<0)if(o.left>r.width)t.left=-n.left;else{const v=z("right",o,r,{offset:l,translate:u});s.width-(n.left+v.left+r.width)>0&&(d=Y(e,"right"),t.left=v.left)}if(a==="right"&&f.right<0)if(s.width-o.right>r.width)t.left=-n.left+(s.width-r.width);else{const v=z("left",o,r,{offset:l,translate:u});n.left+v.left>0&&(d=Y(e,"left"),t.left=v.left)}return(a==="top"||a==="bottom")&&(f.left<0?t.left=-n.left:f.right<0&&(t.left=-n.left+(s.width-r.width))),(a==="left"||a==="right")&&(f.top<0?t.top=-n.top:f.bottom<0&&(t.top=-n.top+(s.height-r.height))),{popupPosition:t,position:d}},z=(e,t,n,{offset:o=0,translate:r=[0,0]}={})=>{var l;const u=(l=Tt(r)?r:r[e])!=null?l:[0,0];switch(e){case"top":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+u[0],top:t.scrollTop-n.height-o+u[1]};case"tl":return{left:t.scrollLeft+u[0],top:t.scrollTop-n.height-o+u[1]};case"tr":return{left:t.scrollRight-n.width+u[0],top:t.scrollTop-n.height-o+u[1]};case"bottom":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+u[0],top:t.scrollBottom+o+u[1]};case"bl":return{left:t.scrollLeft+u[0],top:t.scrollBottom+o+u[1]};case"br":return{left:t.scrollRight-n.width+u[0],top:t.scrollBottom+o+u[1]};case"left":return{left:t.scrollLeft-n.width-o+u[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+u[1]};case"lt":return{left:t.scrollLeft-n.width-o+u[0],top:t.scrollTop+u[1]};case"lb":return{left:t.scrollLeft-n.width-o+u[0],top:t.scrollBottom-n.height+u[1]};case"right":return{left:t.scrollRight+o+u[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+u[1]};case"rt":return{left:t.scrollRight+o+u[0],top:t.scrollTop+u[1]};case"rb":return{left:t.scrollRight+o+u[0],top:t.scrollBottom-n.height+u[1]};default:return{left:0,top:0}}},Nn=e=>{let t="0";["top","bottom"].includes(e)?t="50%":["left","lt","lb","tr","br"].includes(e)&&(t="100%");let n="0";return["left","right"].includes(e)?n="50%":["top","tl","tr","lt","rt"].includes(e)&&(n="100%"),`${t} ${n}`},Wn=(e,t,n,o,{offset:r=0,translate:l=[0,0],customStyle:u={},autoFitPosition:a=!1}={})=>{let s=e,f=z(e,n,o,{offset:r,translate:l});if(a){const v=Vn(e,f,{containerRect:t,popupRect:o,triggerRect:n,offset:r,translate:l});f=v.popupPosition,s=v.position}return{style:x({left:`${f.left}px`,top:`${f.top}px`},u),position:s}},qn=(e,t,n,{customStyle:o={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let l=Math.abs(t.scrollLeft+t.width/2-n.scrollLeft);return l>n.width-8&&(t.width>n.width?l=n.width/2:l=n.width-8),["top","tl","tr"].includes(e)?x({left:`${l}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)"},o):x({left:`${l}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)"},o)}let r=Math.abs(t.scrollTop+t.height/2-n.scrollTop);return r>n.height-8&&(t.height>n.height?r=n.height/2:r=n.height-8),["left","lt","lb"].includes(e)?x({top:`${r}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)"},o):x({top:`${r}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)"},o)},Hn=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,Ge=e=>{var t;const n=[];let o=e;for(;o&&o!==document.documentElement;)Hn(o)&&n.push(o),o=(t=o.parentElement)!=null?t:void 0;return n},at=()=>{const e={},t=m(),n=()=>{const o=kt(e.value);o!==t.value&&(t.value=o)};return R(()=>n()),_e(()=>n()),{children:e,firstElement:t}};var Ye=O({name:"ResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(e,{emit:t,slots:n}){const{children:o,firstElement:r}=at();let l;const u=s=>{s&&(l=new lt(f=>{const d=f[0];t("resize",d)}),l.observe(s))},a=()=>{l&&(l.disconnect(),l=null)};return L(r,s=>{l&&a(),s&&u(s)}),tt(()=>{l&&a()}),()=>{var s;return o.value=(s=n.default)==null?void 0:s.call(n),o.value}}});function Gn(e,t){const n=m(e[t]);return _e(()=>{const o=e[t];n.value!==o&&(n.value=o)}),n}const Je=Symbol("ArcoTrigger"),Yn=({elementRef:e,onResize:t})=>{let n;return{createResizeObserver:()=>{e.value&&(n=new lt(l=>{const u=l[0];Pt(t)&&t(u)}),n.observe(e.value))},destroyResizeObserver:()=>{n&&(n.disconnect(),n=null)}}};var Jn=O({name:"ClientOnly",setup(e,{slots:t}){const n=m(!1);return R(()=>n.value=!0),()=>{var o;return n.value?(o=t.default)==null?void 0:o.call(t):null}}});const Kn=({popupContainer:e,visible:t,defaultContainer:n="body",documentContainer:o})=>{const r=m(e.value),l=m(),u=()=>{const a=$t(e.value),s=a?e.value:n,f=a??document.documentElement;s!==r.value&&(r.value=s),f!==l.value&&(l.value=f)};return R(()=>u()),L(t,a=>{r.value!==e.value&&a&&u()}),{teleportContainer:r,containerRef:l}};var Un=Object.defineProperty,Zn=Object.defineProperties,Xn=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Qn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Ue=(e,t,n)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eo=(e,t)=>{for(var n in t||(t={}))Qn.call(t,n)&&Ue(e,n,t[n]);if(Ke)for(var n of Ke(t))Rn.call(t,n)&&Ue(e,n,t[n]);return e},to=(e,t)=>Zn(e,Xn(t));const no=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var me=O({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1},scrollToCloseDistance:{type:Number,default:0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:t,slots:n,attrs:o}){const{popupContainer:r}=we(e),l=Q("trigger"),u=b(()=>xt(o,no)),a=pe(Ze,void 0),s=b(()=>[].concat(e.trigger)),f=new Set,d=pe(Je,void 0),{children:v,firstElement:A}=at(),D=m(),Ce=m(e.defaultPopupVisible),I=m(e.position),Be=m({}),Fe=m({}),Oe=m({}),ct=m(),w=m({top:0,left:0});let j=null,V=null;const h=b(()=>{var i;return(i=e.popupVisible)!=null?i:Ce.value}),{teleportContainer:ft,containerRef:te}=Kn({popupContainer:r,visible:h,documentContainer:!0}),{zIndex:dt}=zt("popup",{visible:h});let k=0,_=!1,ne=!1;const ht=()=>{k&&(window.clearTimeout(k),k=0)},oe=i=>{if(e.alignPoint){const{pageX:c,pageY:p}=i;w.value={top:p,left:c}}},C=()=>{if(!A.value||!D.value||!te.value)return;const i=te.value.getBoundingClientRect(),c=e.alignPoint?{top:w.value.top,bottom:w.value.top,left:w.value.left,right:w.value.left,scrollTop:w.value.top,scrollBottom:w.value.top,scrollLeft:w.value.left,scrollRight:w.value.left,width:0,height:0}:He(A.value,i),p=()=>He(D.value,i),S=p(),{style:B,position:M}=Wn(e.position,i,c,S,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(Fe.value={transformOrigin:Nn(M)}),e.autoFitPopupMinWidth?B.minWidth=`${c.width}px`:e.autoFitPopupWidth&&(B.width=`${c.width}px`),I.value!==M&&(I.value=M),Be.value=B,e.showArrow&&Le(()=>{Oe.value=qn(M,c,p(),{customStyle:e.arrowStyle})})},y=(i,c)=>{if(i===h.value&&k===0)return;const p=()=>{Ce.value=i,t("update:popupVisible",i),t("popupVisibleChange",i),i&&Le(()=>{C()})};i||(j=null,V=null),c?(ht(),i!==h.value&&(k=window.setTimeout(p,c))):p()},vt=i=>{var c;(c=o.onClick)==null||c.call(o,i),!(e.disabled||h.value&&!e.clickToClose)&&(s.value.includes("click")?(oe(i),y(!h.value)):s.value.includes("contextMenu")&&h.value&&y(!1))},De=i=>{var c;(c=o.onMouseenter)==null||c.call(o,i),!(e.disabled||!s.value.includes("hover"))&&(oe(i),y(!0,e.mouseEnterDelay))},Se=i=>{d==null||d.onMouseenter(i),De(i)},Me=i=>{var c;(c=o.onMouseleave)==null||c.call(o,i),!(e.disabled||!s.value.includes("hover"))&&y(!1,e.mouseLeaveDelay)},Te=i=>{d==null||d.onMouseleave(i),Me(i)},mt=i=>{var c;(c=o.onFocusin)==null||c.call(o,i),!(e.disabled||!s.value.includes("focus"))&&y(!0,e.focusDelay)},pt=i=>{var c;(c=o.onFocusout)==null||c.call(o,i),!(e.disabled||!s.value.includes("focus"))&&e.blurToClose&&y(!1)},bt=i=>{var c;(c=o.onContextmenu)==null||c.call(o,i),!(e.disabled||!s.value.includes("contextMenu")||h.value&&!e.clickToClose)&&(oe(i),y(!h.value),i.preventDefault())};Lt(Je,ye({onMouseenter:Se,onMouseleave:Te,addChildRef:i=>{f.add(i),d==null||d.addChildRef(i)},removeChildRef:i=>{f.delete(i),d==null||d.removeChildRef(i)}}));const re=()=>{Ie(document.documentElement,"mousedown",ue),_=!1},Ae=Gn(n,"content"),yt=b(()=>{var i;return e.hideEmpty&&It((i=Ae.value)==null?void 0:i.call(Ae))}),ue=i=>{var c,p,S;if(!((c=A.value)!=null&&c.contains(i.target)||(p=D.value)!=null&&p.contains(i.target))){for(const B of f)if((S=B.value)!=null&&S.contains(i.target))return;re(),y(!1)}},ke=(i,c)=>{const[p,S]=i,{scrollTop:B,scrollLeft:M}=c;return Math.abs(B-p)>=e.scrollToCloseDistance||Math.abs(M-S)>=e.scrollToCloseDistance},N=Ne(i=>{if(h.value)if(e.scrollToClose||a!=null&&a.scrollToClose){const c=i.target;j||(j=[c.scrollTop,c.scrollLeft]),ke(j,c)?y(!1):C()}else C()}),Pe=()=>{Ie(window,"scroll",$e),ne=!1},$e=Ne(i=>{const c=i.target.documentElement;V||(V=[c.scrollTop,c.scrollLeft]),ke(V,c)&&(y(!1),Pe())}),ie=()=>{h.value&&C()},Et=()=>{ie(),t("resize")},gt=i=>{e.preventFocus&&i.preventDefault()};d==null||d.addChildRef(D);const wt=b(()=>h.value?e.openedClass:void 0);let E;L(h,i=>{if(e.clickOutsideToClose&&(!i&&_?re():i&&!_&&(ce(document.documentElement,"mousedown",ue),_=!0)),(e.scrollToClose||a!=null&&a.scrollToClose)&&(ce(window,"scroll",$e),ne=!0),e.updateAtScroll||a!=null&&a.updateAtScroll){if(i){E=Ge(A.value);for(const c of E)c.addEventListener("scroll",N)}else if(E){for(const c of E)c.removeEventListener("scroll",N);E=void 0}}i&&(le.value=!0)}),L(()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth],()=>{h.value&&C()});const{createResizeObserver:_t,destroyResizeObserver:Ct}=Yn({elementRef:te,onResize:ie});R(()=>{if(_t(),h.value&&(C(),e.clickOutsideToClose&&!_&&(ce(document.documentElement,"mousedown",ue),_=!0),e.updateAtScroll||a!=null&&a.updateAtScroll)){E=Ge(A.value);for(const i of E)i.addEventListener("scroll",N)}}),_e(()=>{h.value&&C()}),jt(()=>{y(!1)}),tt(()=>{if(d==null||d.removeChildRef(D),Ct(),_&&re(),ne&&Pe(),E){for(const i of E)i.removeEventListener("scroll",N);E=void 0}});const le=m(h.value),W=m(!1),xe=()=>{W.value=!0},Bt=()=>{W.value=!1,h.value&&t("show")},Ft=()=>{W.value=!1,h.value||(le.value=!1,t("hide"))};return()=>{var i,c;return v.value=(c=(i=n.default)==null?void 0:i.call(n))!=null?c:[],Vt(v.value,{class:wt.value,onClick:vt,onMouseenter:De,onMouseleave:Me,onFocusin:mt,onFocusout:pt,onContextmenu:bt}),g(Yt,null,[e.autoFixPosition?g(Ye,{onResize:Et},{default:()=>[v.value]}):v.value,g(Jn,null,{default:()=>[g(Nt,{to:ft.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||h.value||le.value)&&!yt.value&&g(Ye,{onResize:ie},{default:()=>[g("div",Wt({ref:D,class:[`${l}-popup`,`${l}-position-${I.value}`],style:to(eo({},Be.value),{zIndex:dt.value,pointerEvents:W.value?"none":"auto"}),"trigger-placement":I.value,onMouseenter:Se,onMouseleave:Te,onMousedown:gt},u.value),[g(qt,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:xe,onAfterEnter:Bt,onBeforeLeave:xe,onAfterLeave:Ft},{default:()=>{var p;return[Ht(g("div",{class:`${l}-popup-wrapper`,style:Fe.value},[g("div",{class:[`${l}-content`,e.contentClass],style:e.contentStyle},[(p=n.content)==null?void 0:p.call(n)]),e.showArrow&&g("div",{ref:ct,class:[`${l}-arrow`,e.arrowClass],style:Oe.value},null)]),[[Gt,h.value]])]}})])]})]})]})])}}});const so=Object.assign(me,{install:(e,t)=>{Re(e,t);const n=et(t);e.component(n+me.name,me)}});export{lo as I,Ye as R,so as T,he as a,Tn as b,wn as c,lt as i,Ne as t,io as u};
